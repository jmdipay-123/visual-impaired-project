<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home | Object Recognition and Navigation for Visually Impaired Person</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    main {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 4rem 1rem;
    }

    .status {
      display: none;
    }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <button class="menu-toggle"><i class="fas fa-bars"></i></button>
      <a style="color: #fff;text-decoration: none;" href="./index.html">
        <h1 style="vertical-align: middle;" data-i18n="siteName">Object Recognition and Navigation</h1>
      </a>
      <nav>
        <ul id="navMenu">
          <li><a href="./index.html" data-i18n="home">Home</a></li>
          <li><a href="./information.html" data-i18n="objectInfo">Object information</a></li>
          <li><a href="./location.html" data-i18n="nav_info">Location</a></li>
          <li>
            <select id="languageSelector"
              style="padding: 8px 12px; border-radius: 4px; border: none; background: rgba(255,255,255,0.2); color: white; cursor: pointer; font-size: 14px;">
              <option value="en">ðŸ‡ºðŸ‡¸ English</option>
              <option value="tl">ðŸ‡µðŸ‡­ Tagalog</option>
              <option value="ceb">ðŸ‡µðŸ‡­ Cebuano</option>
            </select>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div class="map-wrap">
      <div class="map-head">
        <h2 data-i18n="locationTitle">
          <i class="fas fa-location-arrow"></i> Your Location Map
        </h2>
      </div>

      <div id="mapStatus" data-i18n="locationUsingSaved">Asking for your locationâ€¦</div>
      <p class="status">Lat/Lon: <span id="gmCoords">--</span></p>

      <!-- Google Map -->
      <iframe id="gmIframe" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
        style="width:100%;height:300px;display:none;border:0;">
      </iframe>

      <!-- Optional: button if permission was blocked -->
      <br><button data-i18n="enableLoc" id="enableLocationBtn" style="display:none;">Enable Location</button>
    </div>
  </main>


  <footer>
    <div class="container">
      <p data-i18n="copyright">&copy; 2025 Object Recognition and Navigation. All rights reserved.</p>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Mobile menu toggle
      const menuToggle = document.querySelector('.menu-toggle');
      const navMenu = document.querySelector('nav');

      if (menuToggle && navMenu) {
        menuToggle.addEventListener('click', function (e) {
          e.stopPropagation();
          navMenu.classList.toggle('show');

          // Change icon
          const icon = menuToggle.querySelector('i');
          if (navMenu.classList.contains('show')) {
            icon.classList.remove('fa-bars');
            icon.classList.add('fa-times');
          } else {
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
          }
        });

        // Close menu when clicking outside
        document.addEventListener('click', function (e) {
          if (navMenu.classList.contains('show') &&
            !navMenu.contains(e.target) &&
            !menuToggle.contains(e.target)) {
            navMenu.classList.remove('show');
            const icon = menuToggle.querySelector('i');
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
          }
        });

        // Close menu when clicking a link
        document.querySelectorAll('#navMenu a').forEach(link => {
          link.addEventListener('click', function () {
            navMenu.classList.remove('show');
            const icon = menuToggle.querySelector('i');
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
          });
        });
      }

      // Smooth scroll for internal nav
      document.querySelectorAll("#navMenu a[data-target]").forEach((menuItem) => {
        menuItem.addEventListener("click", function (e) {
          e.preventDefault();
          const targetId = this.getAttribute("data-target");
          const targetSection = document.getElementById(targetId);

          if (targetSection) {
            targetSection.scrollIntoView({ behavior: "smooth", block: "start" });
          }
        });
      });

      // If URL contains hash, scroll to it
      const hash = window.location.hash;
      if (hash) {
        const sectionId = hash.substring(1);
        const targetSection = document.getElementById(sectionId);

        if (targetSection) {
          setTimeout(() => {
            targetSection.scrollIntoView({ behavior: "smooth", block: "start" });
          }, 100);
        }
      }
    });
  </script>

  <script>
    document.querySelectorAll('.feature-card').forEach(card => {
      card.addEventListener('click', () => {
        const targetId = card.getAttribute('data-target');
        const actionType = card.getAttribute('data-action');
        const targetSection = document.getElementById(targetId);

        if (targetSection) {
          targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Trigger specific actions based on data-action
        setTimeout(() => {
          if (actionType === 'capture') {
            document.getElementById('startCameraBtn')?.click();
          } else if (actionType === 'upload') {
            document.getElementById('uploadBtn')?.click();
          }
        }, 500);

        if (targetId === 'information') {
          window.location.href = '/information.html';
        }
      });
    });
  </script>

  <script>
    // Language Switcher
    document.addEventListener('DOMContentLoaded', () => {
      const languageSelector = document.getElementById('languageSelector');

      if (languageSelector) {
        languageSelector.addEventListener('change', (e) => {
          const selectedLang = e.target.value;
          setLanguage(selectedLang);
          applyTranslations();

          // Show confirmation
          console.log(`Language changed to: ${selectedLang}`);
        });
      }
    });
  </script>

  <script src="./translations.js"></script>
  <script src="./loc.js"></script>



</body>

</html>